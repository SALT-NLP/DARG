# BBH Dyck Language Dataset Reasoning Graph Depth Increase

This directory contains the code for increasing the depth of the reasoning graph's input and output parts for BBH Dyck language dataset. Given that the reasoning structure for this task is explicitly presented within the dataset itself, there is no need to use an LLM to construct the reasoning graph. Similarly, this task only need a rule-based function to convert the graph back to the original format.

## Usage

### Increase Input Depth

To increase the depth of the reasoning graph's input part, use the `input_increase.py` script with the following options:

```bash
python input_increase.py
  --increase_input <value>    
  --original_file <path>         
  --output_file <path>           
```

## Parameters

- `--increase_input`: The specified increase value for the input depth. In the paper, intervals of +2, +4, +8, and +16 were used.
- `--original_file`: The file path to the original BBH Dyck language dataset.
- `--output_file`: The file path for the output file, which should correspond to the `--increase_input` value.

Ensure that the output file name reflects the increase value to maintain clarity and organization of the generated datasets.


### Increase Output Depth

To increase the depth of the reasoning graph's output part, use the `output_increase.py` script with the following options:

```bash
python output_increase.py
  --increase_output <value>     
  --original_file <path>  
  --output_file <path>          
```

## Parameters

- `--increase_output`: Specifies the proportion of increase (len(output) - len(input)), ensuring the answer's uniqueness by making the output longer than the input. Examples used in the paper include 0.25 and 0.5. Larger values may take significantly longer to sample appropriate values while ensuring the answer's uniqueness.
- `--original_file`: The file path to the original BBH Dyck language dataset.
- `--output_file`: The file path for the output file, which should correspond to the `--increase_output` value.

Ensure that the output file name reflects the increase value to maintain clarity and organization of the generated datasets.

## Generated File Format

The files generated by the input increase and output increase scripts will both have two additional entries: "Updated Input" and "Updated Target," which represent the new input brackets and their corresponding labels.